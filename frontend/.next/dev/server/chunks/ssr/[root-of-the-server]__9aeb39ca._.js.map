{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/santo/OneDrive/%C3%81rea%20de%20Trabalho/Afrobraids%20Software/Aplica%C3%A7%C3%A3o/sistema-trancas/frontend/app/my-appointments/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\n\r\nexport default function MyAppointments() {\r\n  const router = useRouter();\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const userStored = localStorage.getItem('user');\r\n    if (!userStored) {\r\n        router.push('/login');\r\n        return;\r\n    }\r\n    const user = JSON.parse(userStored);\r\n\r\n    fetch(`http://localhost:3001/appointments/my/${user.id}`)\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if (Array.isArray(data)) setAppointments(data);\r\n        })\r\n        .finally(() => setLoading(false));\r\n  }, [router]);\r\n\r\n  if (loading) return <div className=\"p-8 text-center text-beleza-500\">Carregando seus hor√°rios...</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-beleza-50 p-6\">\r\n        <div className=\"max-w-4xl mx-auto\">\r\n            <div className=\"flex justify-between items-center mb-8\">\r\n                <h1 className=\"text-2xl font-bold text-beleza-900\">üíá‚Äç‚ôÄÔ∏è Meus Agendamentos</h1>\r\n                <button onClick={() => router.push('/')} className=\"text-sm underline text-beleza-600\">Voltar</button>\r\n            </div>\r\n\r\n            {appointments.length === 0 ? (\r\n                <div className=\"text-center py-10 bg-white rounded-xl shadow\">\r\n                    <p className=\"text-gray-500 mb-4\">Voc√™ ainda n√£o tem agendamentos.</p>\r\n                    <button onClick={() => router.push('/')} className=\"bg-beleza-500 text-white px-6 py-2 rounded-lg\">Agendar Agora</button>\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-4\">\r\n                    {appointments.map((app) => (\r\n                        <div key={app.id} className=\"bg-white p-6 rounded-xl shadow-md border-l-4 border-beleza-500 flex flex-col md:flex-row justify-between items-center\">\r\n                            <div>\r\n                                <h2 className=\"text-xl font-bold text-beleza-800\">{app.services?.name}</h2>\r\n                                <p className=\"text-gray-500 text-sm\">\r\n                                    {format(new Date(app.start_time), \"dd 'de' MMMM '√†s' HH:mm\", { locale: ptBR })}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"mt-4 md:mt-0 text-right\">\r\n                                <span className={`px-3 py-1 rounded-full text-xs font-bold ${\r\n                                    app.status === 'CONFIRMED' ? 'bg-green-100 text-green-700' : \r\n                                    app.status === 'CANCELED' ? 'bg-red-100 text-red-700' : 'bg-yellow-100 text-yellow-700'\r\n                                }`}>\r\n                                    {app.status === 'CONFIRMED' ? 'Confirmado' : app.status}\r\n                                </span>\r\n                                <p className=\"text-lg font-bold text-beleza-600 mt-2\">R$ {Number(app.services?.price).toFixed(2)}</p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,2JAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6NAAQ,EAAQ,EAAE;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,IAAA,8NAAS,EAAC;QACR,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,CAAC,YAAY;YACb,OAAO,IAAI,CAAC;YACZ;QACJ;QACA,MAAM,OAAO,KAAK,KAAK,CAAC;QAExB,MAAM,CAAC,sCAAsC,EAAE,KAAK,EAAE,EAAE,EACnD,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;YACF,IAAI,MAAM,OAAO,CAAC,OAAO,gBAAgB;QAC7C,GACC,OAAO,CAAC,IAAM,WAAW;IAChC,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS,qBAAO,0PAAC;QAAI,WAAU;kBAAkC;;;;;;IAErE,qBACE,0PAAC;QAAI,WAAU;kBACX,cAAA,0PAAC;YAAI,WAAU;;8BACX,0PAAC;oBAAI,WAAU;;sCACX,0PAAC;4BAAG,WAAU;sCAAqC;;;;;;sCACnD,0PAAC;4BAAO,SAAS,IAAM,OAAO,IAAI,CAAC;4BAAM,WAAU;sCAAoC;;;;;;;;;;;;gBAG1F,aAAa,MAAM,KAAK,kBACrB,0PAAC;oBAAI,WAAU;;sCACX,0PAAC;4BAAE,WAAU;sCAAqB;;;;;;sCAClC,0PAAC;4BAAO,SAAS,IAAM,OAAO,IAAI,CAAC;4BAAM,WAAU;sCAAgD;;;;;;;;;;;yCAGvG,0PAAC;oBAAI,WAAU;8BACV,aAAa,GAAG,CAAC,CAAC,oBACf,0PAAC;4BAAiB,WAAU;;8CACxB,0PAAC;;sDACG,0PAAC;4CAAG,WAAU;sDAAqC,IAAI,QAAQ,EAAE;;;;;;sDACjE,0PAAC;4CAAE,WAAU;sDACR,IAAA,+JAAM,EAAC,IAAI,KAAK,IAAI,UAAU,GAAG,2BAA2B;gDAAE,QAAQ,yJAAI;4CAAC;;;;;;;;;;;;8CAGpF,0PAAC;oCAAI,WAAU;;sDACX,0PAAC;4CAAK,WAAW,CAAC,yCAAyC,EACvD,IAAI,MAAM,KAAK,cAAc,gCAC7B,IAAI,MAAM,KAAK,aAAa,4BAA4B,iCAC1D;sDACG,IAAI,MAAM,KAAK,cAAc,eAAe,IAAI,MAAM;;;;;;sDAE3D,0PAAC;4CAAE,WAAU;;gDAAyC;gDAAI,OAAO,IAAI,QAAQ,EAAE,OAAO,OAAO,CAAC;;;;;;;;;;;;;;2BAd5F,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;AAuBxC"}}]
}