{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/santo/OneDrive/%C3%81rea%20de%20Trabalho/Afrobraids%20Software/Aplica%C3%A7%C3%A3o/sistema-trancas/frontend/app/components/AdminSideBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useRouter, usePathname } from 'next/navigation';\r\n\r\nexport default function AdminSidebar() {\r\n  const router = useRouter();\r\n  const pathname = usePathname(); // Para saber em qual p√°gina estamos e marcar no menu\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    router.push('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-64 h-screen bg-beleza-900 text-white flex flex-col fixed left-0 top-0 shadow-xl z-50\">\r\n      {/* Logo */}\r\n      <div className=\"p-6 border-b border-beleza-700\">\r\n        <h1 className=\"text-xl font-bold tracking-wider text-center\">AFROBRAIDS <span className=\"text-xs block text-beleza-300 font-normal\">Painel Admin</span></h1>\r\n      </div>\r\n\r\n      {/* Menu Links */}\r\n      <nav className=\"flex-1 p-4 space-y-2\">\r\n        \r\n        {/* Item: Dashboard */}\r\n        <button \r\n            onClick={() => router.push('/dashboard')}\r\n            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\r\n                pathname === '/dashboard' ? 'bg-beleza-700 text-white font-bold' : 'hover:bg-beleza-800 text-beleza-100'\r\n            }`}\r\n        >\r\n            <span>üìä</span> Dashboard\r\n        </button>\r\n\r\n        {/* Item: Servi√ßos */}\r\n        <button \r\n            onClick={() => router.push('/admin-services')}\r\n            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${\r\n                pathname === '/admin-services' ? 'bg-beleza-700 text-white font-bold' : 'hover:bg-beleza-800 text-beleza-100'\r\n            }`}\r\n        >\r\n            <span>üõ†Ô∏è</span> Servi√ßos\r\n        </button>\r\n\r\n        {/* Item: Ver Site (Para ir pra √°rea do cliente ver como ficou) */}\r\n        <button \r\n            // MUDAN√áA AQUI:\r\n            onClick={() => router.push('/admin-preview')} \r\n            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg mt-8 border-t border-beleza-700 transition-colors ${\r\n                pathname === '/admin-preview' ? 'bg-beleza-700 text-white font-bold' : 'hover:bg-beleza-800 text-beleza-100'\r\n            }`}\r\n        >\r\n            <span>üëÅÔ∏è</span> Visualizar Site\r\n        </button>\r\n        <button \r\n            // MUDAN√áA AQUI:\r\n            onClick={() => router.push('/admin-agenda')} \r\n            className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg mt-8 border-t border-beleza-700 transition-colors ${\r\n                pathname === '/admin-agenda' ? 'bg-beleza-700 text-white font-bold' : 'hover:bg-beleza-800 text-beleza-100'\r\n            }`}\r\n        >\r\n            <span>üìÖ</span> Agenda Completa\r\n        </button>\r\n      </nav>\r\n\r\n      {/* Logout */}\r\n      <div className=\"p-4 border-t border-beleza-700\">\r\n        <button \r\n            onClick={handleLogout}\r\n            className=\"w-full flex items-center justify-center gap-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-sm font-bold transition\"\r\n        >\r\n            üö™ Sair\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,SAAS,IAAA,2JAAS;IACxB,MAAM,WAAW,IAAA,6JAAW,KAAI,qDAAqD;IAErF,MAAM,eAAe;QACnB,aAAa,KAAK;QAClB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,0PAAC;QAAI,WAAU;;0BAEb,0PAAC;gBAAI,WAAU;0BACb,cAAA,0PAAC;oBAAG,WAAU;;wBAA+C;sCAAW,0PAAC;4BAAK,WAAU;sCAA4C;;;;;;;;;;;;;;;;;0BAItI,0PAAC;gBAAI,WAAU;;kCAGb,0PAAC;wBACG,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAW,CAAC,sEAAsE,EAC9E,aAAa,eAAe,uCAAuC,uCACrE;;0CAEF,0PAAC;0CAAK;;;;;;4BAAS;;;;;;;kCAInB,0PAAC;wBACG,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAW,CAAC,sEAAsE,EAC9E,aAAa,oBAAoB,uCAAuC,uCAC1E;;0CAEF,0PAAC;0CAAK;;;;;;4BAAU;;;;;;;kCAIpB,0PAAC;wBACG,gBAAgB;wBAChB,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAW,CAAC,sGAAsG,EAC9G,aAAa,mBAAmB,uCAAuC,uCACzE;;0CAEF,0PAAC;0CAAK;;;;;;4BAAU;;;;;;;kCAEpB,0PAAC;wBACG,gBAAgB;wBAChB,SAAS,IAAM,OAAO,IAAI,CAAC;wBAC3B,WAAW,CAAC,sGAAsG,EAC9G,aAAa,kBAAkB,uCAAuC,uCACxE;;0CAEF,0PAAC;0CAAK;;;;;;4BAAS;;;;;;;;;;;;;0BAKrB,0PAAC;gBAAI,WAAU;0BACb,cAAA,0PAAC;oBACG,SAAS;oBACT,WAAU;8BACb;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/santo/OneDrive/%C3%81rea%20de%20Trabalho/Afrobraids%20Software/Aplica%C3%A7%C3%A3o/sistema-trancas/frontend/app/admin-agenda/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { format } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport AdminSidebar from '../components/AdminSideBar';\r\n\r\nexport default function AdminAgenda() {\r\n  const router = useRouter();\r\n  const [appointments, setAppointments] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // Verifica√ß√£o de Seguran√ßa (S√≥ Admin entra)\r\n    const userStored = localStorage.getItem('user');\r\n    if (!userStored) { router.push('/login'); return; }\r\n    \r\n    const user = JSON.parse(userStored);\r\n    if (user.role !== 'ADMIN') {\r\n        alert(\"Acesso restrito a administradores.\");\r\n        router.push('/');\r\n        return;\r\n    }\r\n\r\n    fetch('http://localhost:3001/appointments/admin/all')\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if (Array.isArray(data)) setAppointments(data);\r\n        })\r\n        .finally(() => setLoading(false));\r\n  }, [router]);\r\nreturn (\r\n    <div className=\"min-h-screen bg-gray-50 flex\">\r\n        {/* 1. Menu Lateral */}\r\n        <AdminSidebar />\r\n\r\n        {/* 2. Conte√∫do Principal (Com margem na esquerda) */}\r\n        <div className=\"flex-1 ml-64 p-8\">\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n        <div className=\"max-w-6xl mx-auto bg-white rounded-2xl shadow-xl overflow-hidden\">\r\n            <div className=\"bg-beleza-900 p-6 flex justify-between items-center text-white\">\r\n                <h1 className=\"text-2xl font-bold\">üìÖ Agenda de Clientes</h1>\r\n            </div>\r\n\r\n            <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-left\">\r\n                    <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n                        <tr>\r\n                            <th className=\"p-4 font-bold text-gray-600\">Data e Hora</th>\r\n                            <th className=\"p-4 font-bold text-gray-600\">Cliente</th>\r\n                            <th className=\"p-4 font-bold text-gray-600\">Contato</th>\r\n                            <th className=\"p-4 font-bold text-gray-600\">Servi√ßo</th>\r\n                            <th className=\"p-4 font-bold text-gray-600\">Status</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-gray-100\">\r\n                        {loading ? (\r\n                            <tr><td colSpan={5} className=\"p-4 text-center\">Carregando...</td></tr>\r\n                        ) : appointments.map((app) => (\r\n                            <tr key={app.id} className=\"hover:bg-gray-50 transition\">\r\n                                <td className=\"p-4 text-gray-800 font-medium\">\r\n                                    {format(new Date(app.start_time), \"dd/MM/yyyy HH:mm\")}\r\n                                </td>\r\n                                <td className=\"p-4\">\r\n                                    <div className=\"font-bold text-beleza-900\">{app.users?.name}</div>\r\n                                    <div className=\"text-xs text-gray-400\">CPF: {app.users?.cpf}</div>\r\n                                </td>\r\n                                <td className=\"p-4 text-blue-600\">\r\n                                    <a href={`https://wa.me/55${app.users?.phone?.replace(/\\D/g, '')}`} target=\"_blank\" rel=\"noreferrer\" className=\"flex items-center gap-1 hover:underline\">\r\n                                        üì± {app.users?.phone}\r\n                                    </a>\r\n                                </td>\r\n                                <td className=\"p-4 text-gray-600\">{app.services?.name}</td>\r\n                                <td className=\"p-4\">\r\n                                    <span className={`px-2 py-1 rounded text-xs font-bold ${\r\n                                        app.status === 'CONFIRMED' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n                                    }`}>\r\n                                        {app.status}\r\n                                    </span>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n                {!loading && appointments.length === 0 && (\r\n                    <div className=\"p-8 text-center text-gray-500\">Nenhum agendamento encontrado.</div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n        </div>\r\n    </div>\r\n);\r\n\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,2JAAS;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,6NAAQ,EAAQ,EAAE;IAC1D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6NAAQ,EAAC;IAEvC,IAAA,8NAAS,EAAC;QACR,4CAA4C;QAC5C,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,CAAC,YAAY;YAAE,OAAO,IAAI,CAAC;YAAW;QAAQ;QAElD,MAAM,OAAO,KAAK,KAAK,CAAC;QACxB,IAAI,KAAK,IAAI,KAAK,SAAS;YACvB,MAAM;YACN,OAAO,IAAI,CAAC;YACZ;QACJ;QAEA,MAAM,gDACD,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,IACpB,IAAI,CAAC,CAAA;YACF,IAAI,MAAM,OAAO,CAAC,OAAO,gBAAgB;QAC7C,GACC,OAAO,CAAC,IAAM,WAAW;IAChC,GAAG;QAAC;KAAO;IACb,qBACI,0PAAC;QAAI,WAAU;;0BAEX,0PAAC,yJAAY;;;;;0BAGb,0PAAC;gBAAI,WAAU;0BACnB,cAAA,0PAAC;oBAAI,WAAU;8BACX,cAAA,0PAAC;wBAAI,WAAU;;0CACX,0PAAC;gCAAI,WAAU;0CACX,cAAA,0PAAC;oCAAG,WAAU;8CAAqB;;;;;;;;;;;0CAGvC,0PAAC;gCAAI,WAAU;;kDACX,0PAAC;wCAAM,WAAU;;0DACb,0PAAC;gDAAM,WAAU;0DACb,cAAA,0PAAC;;sEACG,0PAAC;4DAAG,WAAU;sEAA8B;;;;;;sEAC5C,0PAAC;4DAAG,WAAU;sEAA8B;;;;;;sEAC5C,0PAAC;4DAAG,WAAU;sEAA8B;;;;;;sEAC5C,0PAAC;4DAAG,WAAU;sEAA8B;;;;;;sEAC5C,0PAAC;4DAAG,WAAU;sEAA8B;;;;;;;;;;;;;;;;;0DAGpD,0PAAC;gDAAM,WAAU;0DACZ,wBACG,0PAAC;8DAAG,cAAA,0PAAC;wDAAG,SAAS;wDAAG,WAAU;kEAAkB;;;;;;;;;;2DAChD,aAAa,GAAG,CAAC,CAAC,oBAClB,0PAAC;wDAAgB,WAAU;;0EACvB,0PAAC;gEAAG,WAAU;0EACT,IAAA,+JAAM,EAAC,IAAI,KAAK,IAAI,UAAU,GAAG;;;;;;0EAEtC,0PAAC;gEAAG,WAAU;;kFACV,0PAAC;wEAAI,WAAU;kFAA6B,IAAI,KAAK,EAAE;;;;;;kFACvD,0PAAC;wEAAI,WAAU;;4EAAwB;4EAAM,IAAI,KAAK,EAAE;;;;;;;;;;;;;0EAE5D,0PAAC;gEAAG,WAAU;0EACV,cAAA,0PAAC;oEAAE,MAAM,CAAC,gBAAgB,EAAE,IAAI,KAAK,EAAE,OAAO,QAAQ,OAAO,KAAK;oEAAE,QAAO;oEAAS,KAAI;oEAAa,WAAU;;wEAA0C;wEACjJ,IAAI,KAAK,EAAE;;;;;;;;;;;;0EAGvB,0PAAC;gEAAG,WAAU;0EAAqB,IAAI,QAAQ,EAAE;;;;;;0EACjD,0PAAC;gEAAG,WAAU;0EACV,cAAA,0PAAC;oEAAK,WAAW,CAAC,oCAAoC,EAClD,IAAI,MAAM,KAAK,cAAc,gCAAgC,2BAC/D;8EACG,IAAI,MAAM;;;;;;;;;;;;uDAlBd,IAAI,EAAE;;;;;;;;;;;;;;;;oCAyB1B,CAAC,WAAW,aAAa,MAAM,KAAK,mBACjC,0PAAC;wCAAI,WAAU;kDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUnE"}}]
}